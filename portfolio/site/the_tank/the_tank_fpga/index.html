
<!doctype html>
<html lang="zh-Hant" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Portfolio of Yi-Chun(Chris) Chang">
      
      
      
        <meta name="author" content="Chris Chang">
      
      
        <link rel="canonical" href="https://tpchris1.github.io/portfolio/site/index.html/the_tank/the_tank_fpga/">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.5">
    
    
      
        <title>Gen1 - FPGA-based - Chris's Portfolio</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.15aa0b43.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.75751829.min.css">
        
          
          
          <meta name="theme-color" content="#546d78">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="teal">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-tank-gen1-fpga-based" class="md-skip">
          跳轉到
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://tpchris1.github.io/portfolio/site/index.html" title="Chris&#39;s Portfolio" class="md-header-nav__button md-logo" aria-label="Chris's Portfolio">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Chris's Portfolio
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Gen1 - FPGA-based
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜尋" placeholder="搜尋" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜尋引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://tpchris1.github.io/portfolio/site/index.html" title="Chris&#39;s Portfolio" class="md-nav__button md-logo" aria-label="Chris's Portfolio">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Chris's Portfolio
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../frozen/frozen/" class="md-nav__link">
        FROZEN
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../nsfw_detection/nsfw_detection/" class="md-nav__link">
        NSFW Detection
      </a>
    </li>
  

    
      
      
      


  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
      
      <label class="md-nav__link" for="nav-4">
        The Tank Series
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="The Tank Series" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          The Tank Series
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../the_tank_arduino/" class="md-nav__link">
        Gen2 - Arduino-based
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Gen1 - FPGA-based
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Gen1 - FPGA-based
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="目錄">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目錄
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-lego-tank" class="md-nav__link">
    A Lego Tank!!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-research" class="md-nav__link">
    Problem Research
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feature" class="md-nav__link">
    Feature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-process" class="md-nav__link">
    Implementation Process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#my-role-in-the-project" class="md-nav__link">
    My role in the project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../modeling_user_willingness/modeling_user_willingness/" class="md-nav__link">
        Modeling user willingness of data contribution in online social networks
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../gender_differences_on_stackoverflow/gender_differences_on_stackoverflow/" class="md-nav__link">
        Gender Differences on StackOverflow
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../the_haunted_village/the_haunted_village/" class="md-nav__link">
        The Haunted Village
      </a>
    </li>
  

    
      
      
      


  
  
  
    <li class="md-nav__item">
      <a href="../../deepeye_pack/deepeye_pack/" class="md-nav__link">
        deepeye_pack
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目錄">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目錄
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-lego-tank" class="md-nav__link">
    A Lego Tank!!
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#problem-research" class="md-nav__link">
    Problem Research
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feature" class="md-nav__link">
    Feature
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-process" class="md-nav__link">
    Implementation Process
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#my-role-in-the-project" class="md-nav__link">
    My role in the project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="the-tank-gen1-fpga-based">The Tank Gen1 - FPGA Based</h1>
<h5 id="a-lego-tank"><em>A Lego Tank!!</em></h5>
<h2 id="introduction">Introduction</h2>
<ol>
<li>This is an FPGA-based mobile Lego tank which can be controlled through keyboard</li>
<li>The FPGA is the Digilent Basys-3 Dev Kit developed under Vivado using Verilog</li>
<li>The Tank is equipped with two 5V stepper motors powered by 4 AA 1.5V batteries</li>
<li>The Tank is also equipped with another stepper motor to power the base of the canon which can fire Lego using solenoid</li>
</ol>
<h2 id="problem-research">Problem Research</h2>
<ol>
<li>When my teammate and I decided to start this project, we had no clue of which components or parts we were going to use</li>
<li>But we were very clear about what our goals are<ul>
<li>A Lego tank</li>
<li>It can move</li>
<li>It has a canon or turrent which can move</li>
<li>It can fire Lego bricks </li>
<li>It can be ccontrolled by some sort of controller</li>
</ul>
</li>
<li>Based on the above goals, we wanted to verify the feasibility of these goals</li>
<li>First of all, we wanted to verify whether our FPGA board can drive a motor with load. After several discussion, we believe that the DC motor we could bought cannot provide enough torque. Hence, we chose stepper motors to drive the Tank</li>
<li>Therefore, we tried to power the motors through a very simple experiment with some motors, some ULN2003 drive boards and some tissue, some wire and 4 AA batteries.</li>
</ol>
<iframe src="https://drive.google.com/file/d/1OyoVMeKK6JjSND5akg_K3LWaHw_x1ve4/preview" width="640" height="480"></iframe>

<ol>
<li>It turned out to be pretty successful, then we can formally establish proposal of this project and go for next stage </li>
</ol>
<h2 id="feature">Feature</h2>
<ol>
<li>The Tank can move forward and backward</li>
<li>The Tank can move left and right</li>
<li>The Tank can rotate the canon horizontally</li>
<li>The Tank can make sounds when firing the canon</li>
<li>The Tank can show the current status using 7-segment display</li>
<li>The Tank can simulate an engine start and off using FSM</li>
<li>The sketch design of the FSM for the Tank is as below</li>
</ol>
<p><img alt="" src="../Pics/2021-01-23-03-44-36.png" /></p>
<h2 id="implementation-process">Implementation Process</h2>
<ol>
<li>The Lego structure is the very first important thing to finish because we needed to make sure that the structure was stongr enough to load these many parts on it </li>
<li>Therefore, the base of the Tank is as below</li>
</ol>
<p><img alt="" src="../Pics/2021-01-23-03-24-58.png" /><br>
3. Our ultimate goal for the Tank to be looking like this </p>
<p><img alt="" src="../Pics/2021-01-23-03-25-51.png" /><br>
4. Two stepper motors is placed vertically to reduce space problem and they were connected to Lego axis as the following picture<br>
<img alt="" src="../Pics/2021-01-23-03-42-40.png" /><br></p>
<ol>
<li>The stepper motors drive the belt through <a href="https://en.wikipedia.org/wiki/Bevel_gear">straight bevel gear</a></li>
<li>After the base structure, we tested the driving system of the motors. The motors are drive through ULN2003 to magnify the signal from 3.3V to 5V</li>
<li>The signals were set as a shifting 4-bit register to represent the 4 phases of the stepper motor. </li>
</ol>
<p><img alt="" src="../Pics/2021-01-23-03-48-45.png" /><br>
8. Nevertheless, the power is not strong enough to drive all three motors including the one rotating the platform for the canon
9. The solution was to use external power to solve the problem
10. While my partner worked on the keyboard control and functions like LED and 7-segments, I began to work on the fire mechanism. After several research, I decided to use solenoid to pull the "trigger" for the canon
11. The canon is built on a platform and another <a href="https://en.wikipedia.org/wiki/Worm_drive">worm drive</a>. The platform is driven by another stepper motor and the worm drive can be manually controlled 
12. Eventually, all parts are combined together and the Tank is complete
13. During the final demo, because we lack of power we had to use different external power to power the Tank
14. Demo video:</p>
<iframe src="https://drive.google.com/file/d/1gscPZbdwFJ_PkWy-oAtVZ0yiK43rrHJb/preview" width="640" height="480"></iframe>

<h2 id="my-role-in-the-project">My role in the project</h2>
<ol>
<li>I mainly handled the design of all Lego structures and the design of circuits and layouts</li>
<li>I was also responsible for the Verilog code of the stepper motor</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<ol>
<li>Huge thanks to the lecturer of the course Professor <a href="http://nthucad.cs.nthu.edu.tw/~cthuang/">Chih-Tsun Huang</a></li>
<li>Unlimited thanks to my best partner Edward Wei Ding for the great help and support</li>
<li>As Wei Ding and I grew interests in the world of FPGA, we later on became the TA for this course. </li>
</ol>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../the_tank_arduino/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  上一頁
                </span>
                Gen2 - Arduino-based
              </div>
            </div>
          </a>
        
        
          <a href="../../modeling_user_willingness/modeling_user_willingness/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  下一頁
                </span>
                Modeling user willingness of data contribution in online social networks
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.93c04032.min.js"></script>
      <script src="../../assets/javascripts/bundle.83e5331e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "\u8907\u88fd", "clipboard.copied": "\u5df2\u8907\u88fd", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\u3000\u3001\u3002\uff0c\uff0e\uff1f\uff1b]+", "search.placeholder": "\u641c\u5c0b", "search.result.placeholder": "\u6253\u5b57\u9032\u884c\u641c\u5c0b", "search.result.none": "\u6c92\u6709\u7b26\u5408\u7684\u9805\u76ee", "search.result.one": "\u627e\u5230 1 \u500b\u7b26\u5408\u7684\u9805\u76ee", "search.result.other": "\u627e\u5230 # \u500b\u7b26\u5408\u7684\u9805\u76ee", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>